<!DOCTYPE html>
<html>
<head lang="en">
    <meta charset="UTF-8">
    <title></title>
    <script>
    		var balls = [];
    		const colors = ["#33B5E5","#0099CC","#AA66CC","#9933CC","#99CC00","#669900","#FFBB33","#FF8800","#FF4444","#CC0000"]
    		digit =
    		[
		    		[
		            [0,1,1,1,1,1,0],
		            [1,0,0,0,0,0,1],
		            [0,0,0,0,0,0,1],
		            [0,0,0,0,0,1,0],
		            [0,0,0,0,1,0,0],
		            [0,0,0,1,0,0,0],
		            [0,0,1,0,0,0,0],
		            [0,1,0,0,0,0,0],
		            [1,0,0,0,0,0,0],
		            [1,1,1,1,1,1,1]
		        ],//2
		        [
		            [0,0,1,1,1,1,0],
		            [0,1,0,0,0,0,1],
		            [0,1,0,0,0,0,1],
		            [0,1,0,0,0,0,1],
		            [0,1,0,0,0,0,1],
		            [0,1,0,0,0,0,1],
		            [0,1,0,0,0,0,1],
		            [0,1,0,0,0,0,1],
		            [0,1,0,0,0,0,1],
		            [0,0,1,1,1,1,0]
		        ],//0
		        [
		            [0,0,1,1,0,0,0],
		            [0,1,0,1,0,0,0],
		            [0,0,0,1,0,0,0],
		            [0,0,0,1,0,0,0],
		            [0,0,0,1,0,0,0],
		            [0,0,0,1,0,0,0],
		            [0,0,0,1,0,0,0],
		            [0,0,0,1,0,0,0],
		            [0,0,0,1,0,0,0],
		            [0,1,1,1,1,1,0]
		        ],//1
		        [
		            [0,0,0,1,1,0,0],
		            [0,0,1,0,0,0,0],
		            [0,1,0,0,0,0,0],
		            [1,0,0,0,0,0,0],
		            [1,1,1,1,1,0,0],
		            [1,0,0,0,0,1,0],
		            [1,0,0,0,0,1,0],
		            [1,0,0,0,0,1,0],
		            [1,0,0,0,0,1,0],
		            [0,1,1,1,1,0,0]
		        ],//6
    		    [
	            [0,1,0,0,0,0,0,1,0,0,0,0,0,0],
	            [1,1,1,1,1,0,1,0,0,0,0,0,0,0],
	            [0,1,0,1,0,0,1,0,0,0,0,0,0,0],
	            [0,0,1,0,0,0,1,1,1,1,1,1,0,0],
	            [1,1,1,1,1,0,1,0,0,1,0,0,0,0],
	            [0,0,1,0,0,0,1,0,0,1,0,0,0,0],
	            [0,1,1,1,0,0,1,0,0,1,0,0,0,0],
	            [0,0,1,0,0,0,1,0,0,1,0,0,0,0],
	            [0,1,1,1,0,0,1,0,0,1,0,0,0,0],
	            [1,0,1,0,1,0,1,0,0,1,0,0,0,0]
        		],//新
    		    [
	            [0,0,1,0,0,0,0,0,0,0,0,0,0],
	            [0,1,1,1,1,1,1,1,1,1,1,0,0],
	            [1,0,0,0,0,0,1,0,0,0,0,0,0],
	            [0,0,1,1,1,1,1,1,1,1,1,0,0],
	            [0,0,1,0,0,0,1,0,0,0,0,0,0],
	            [0,0,1,0,0,0,1,0,0,0,0,0,0],
	            [1,1,1,1,1,1,1,1,1,1,1,1,0],
	            [0,0,0,0,0,0,1,0,0,0,0,0,0],
	            [0,0,0,0,0,0,1,0,0,0,0,0,0],
	            [0,0,0,0,0,0,1,0,0,0,0,0,0]
        		],//年
            [
	            [0,0,1,0,0,0,0,0,1,0,0,0,0,0],
	            [0,0,1,0,0,1,1,1,1,1,1,1,0,0],
	            [0,0,1,1,0,0,0,0,1,0,0,1,0,0],
	            [0,1,1,0,1,0,0,0,1,0,0,1,0,0],
	            [1,0,1,0,0,0,0,0,1,0,0,1,0,0],
	            [0,0,1,0,0,1,1,1,1,1,1,1,1,0],
	            [0,0,1,0,0,0,0,0,1,0,0,0,0,0],
	            [0,0,1,0,0,0,0,1,0,1,0,0,0,0],
	            [0,0,1,0,0,0,1,0,0,0,1,0,0,0],
	            [0,0,1,0,0,1,0,0,0,0,0,1,0,0]
        		], //快
        		[
	            [0,0,0,0,0,0,1,1,0,0,0,0,0,0],
	            [0,0,0,0,0,1,0,0,0,0,0,0,0,0],
	            [0,0,0,0,1,0,1,0,0,0,0,0,0,0],
	            [0,0,1,1,0,0,1,0,0,0,0,0,0,0],
	            [0,0,1,0,0,0,1,0,0,0,0,0,0,0],
	            [0,0,1,1,1,1,1,1,1,1,1,1,0,0],
	            [0,0,0,0,0,0,1,0,0,0,0,0,0,0],
	            [0,0,0,0,0,1,1,1,0,0,0,0,0,0],
	            [0,0,0,0,1,0,1,0,1,0,0,0,0,0],
	            [0,0,0,1,0,0,1,0,0,1,1,0,0,0]
       		  ]//9乐
        ]
				
				window.onload = function(){
				
				    WINDOW_WIDTH = document.body.clientWidth
				    WINDOW_HEIGHT = document.body.clientHeight
				
				    MARGIN_LEFT = Math.round(WINDOW_WIDTH /8);
				    RADIUS = Math.round(WINDOW_WIDTH * 4 / 5 / 108)-1
				
				    MARGIN_TOP = Math.round(WINDOW_HEIGHT /6);
				
				    var canvas = document.getElementById('canvas');
				    var context = canvas.getContext("2d");
				
				    canvas.width = WINDOW_WIDTH;
				    canvas.height = WINDOW_HEIGHT;
				    
						update(); 
				    setInterval(
				    		function(){
				    			if( balls.length == 0 ){
				    				update();
				    			}
				    			render( context );
				    			updateBalls();
				    		}
				    		,
				    		100
				    );
				    
				    
				            
				}
				
				function update(){
				

            addBalls( MARGIN_LEFT + 20*(RADIUS+1) , MARGIN_TOP , 0 );
            addBalls( MARGIN_LEFT + 20*(RADIUS+1) + 15*(RADIUS+1) , MARGIN_TOP , 1 );
            addBalls( MARGIN_LEFT + 20*(RADIUS+1) + 30*(RADIUS+1) , MARGIN_TOP , 2 );
            addBalls( MARGIN_LEFT + 20*(RADIUS+1) + 45*(RADIUS+1) , MARGIN_TOP , 3 );
            addBalls( MARGIN_LEFT , MARGIN_TOP * 3, 4 );
            addBalls( MARGIN_LEFT + 25*(RADIUS+1) , MARGIN_TOP * 3, 5 );
            addBalls( MARGIN_LEFT + 50*(RADIUS+1) , MARGIN_TOP * 3, 6 );
            addBalls( MARGIN_LEFT + 75*(RADIUS+1) , MARGIN_TOP * 3, 7 );			    
				
				    console.log( "1", balls.length)
				}
				
				function updateBalls(){
				
				    for( var i = 0 ; i < balls.length ; i ++ ){
				
				        balls[i].x += balls[i].vx;
				        balls[i].y += balls[i].vy;
				        balls[i].vy += balls[i].g;
				
				        if( balls[i].y >= WINDOW_HEIGHT-RADIUS ){
				            balls[i].y = WINDOW_HEIGHT-RADIUS;
				            balls[i].vy = - balls[i].vy*0.7;
				        }
				    }
				
				    var cnt = 0
				    for( var i = 0 ; i < balls.length ; i ++ )
				        if( balls[i].x + RADIUS > 0 && balls[i].x -RADIUS < WINDOW_WIDTH )
				            balls[cnt++] = balls[i]
				
				    while( balls.length > cnt ){
				        balls.pop();
				    }
				}
				
				function addBalls( x , y , num ){
				
				    for( var i = 0  ; i < digit[num].length ; i ++ )
				        for( var j = 0  ; j < digit[num][i].length ; j ++ )
				            if( digit[num][i][j] == 1 ){
				                var aBall = {
				                    x:x+j*2*(RADIUS+1)+(RADIUS+1),
				                    y:y+i*2*(RADIUS+1)+(RADIUS+1),
				                    g:1.5+Math.random(),
				                    vx:Math.pow( -1 , Math.ceil( Math.random()*1000 ) ) * 4,
				                    vy:-5,
				                    color: colors[ Math.floor( Math.random()*colors.length ) ]
				                }
				
				                balls.push( aBall )
				            }
				}
				
				

				
				function render( cxt ){
				
				    cxt.clearRect(0,0,WINDOW_WIDTH, WINDOW_HEIGHT);
				
						renderDigit( MARGIN_LEFT + 20*(RADIUS+1) , MARGIN_TOP , 0 , cxt )
				    renderDigit( MARGIN_LEFT + 20*(RADIUS+1) + 15*(RADIUS+1) , MARGIN_TOP , 1 , cxt )
				    renderDigit( MARGIN_LEFT + 20*(RADIUS+1) + 30*(RADIUS+1) , MARGIN_TOP , 2 , cxt )
				    renderDigit( MARGIN_LEFT + 20*(RADIUS+1) + 45*(RADIUS+1) , MARGIN_TOP , 3 , cxt )
				
				    renderDigit( MARGIN_LEFT , MARGIN_TOP * 3, 4 , cxt )
				    renderDigit( MARGIN_LEFT + 25*(RADIUS+1) , MARGIN_TOP * 3, 5 , cxt )
				    renderDigit( MARGIN_LEFT + 50*(RADIUS+1) , MARGIN_TOP * 3, 6 , cxt )
				    renderDigit( MARGIN_LEFT + 75*(RADIUS+1) , MARGIN_TOP * 3, 7 , cxt )
				    console.log( "2",balls.length)
				    for( var i = 0 ; i < balls.length ; i ++ ){
				        cxt.fillStyle=balls[i].color;
				
				        cxt.beginPath();
				        cxt.arc( balls[i].x , balls[i].y , RADIUS , 0 , 2*Math.PI );
				        //console.log( "ball:",balls[i].x , balls[i].y );
				        cxt.closePath();
				
				        cxt.fill();
				    }
				
				}
				
				function renderDigit( x , y , num , cxt ){
				
				    cxt.fillStyle = "rgb(0,102,153)";
						
				    for( var i = 0 ; i < digit[num].length ; i ++ )
				        for(var j = 0 ; j < digit[num][i].length ; j ++ )
				            if( digit[num][i][j] == 1 ){
				                cxt.beginPath();
				                //console.log("origin:", x+j*2*(RADIUS+1)+(RADIUS+1), y+i*2*(RADIUS+1)+(RADIUS+1) );
				                cxt.arc( x+j*2*(RADIUS+1)+(RADIUS+1) , y+i*2*(RADIUS+1)+(RADIUS+1) , RADIUS , 0 , 2*Math.PI )
				                cxt.closePath()
				
				                cxt.fill()
				            }
				}
				

    
    </script>
</head>
<body style="height:100%;width:100%">
    <canvas id="canvas" style="height:100%;width:100%">
        当前浏览器不支持Canvas，请更换其他浏览器
    </canvas>
</body>
</html>



 
                                                                                                                                                                                                                      
